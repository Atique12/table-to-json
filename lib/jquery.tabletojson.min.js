/*! tabletojson - v0.8.1 - Daniel White */
!function(a){"use strict";a.fn.tableToJSON=function(b){var c={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,headings:null,allowHTML:!1};b=a.extend(c,b);var d=function(a){return void 0!==a&&null!==a},e=function(c){return d(b.onlyColumns)?-1===a.inArray(c,b.onlyColumns):-1!==a.inArray(c,b.ignoreColumns)},f=function(b,c){var e={},f=0;return a.each(c,function(a,c){f<b.length&&d(c)&&(e[b[f]]=c,f++)}),e},g=function(c,f){var g,h;if(!e(c)){var i=a(f).data("override");g=a.trim(b.allowHTML?a(f).html():a(f).text()),h=d(i)?i:g}return h},h=function(b){var c=[];return a(b).children("td,th").each(function(a,b){e(a)||c.push(g(a,b))}),c},i=function(a){var c=a.find("tr:first").first();return d(b.headings)?b.headings:h(c)},j=function(c,h){var i,j,k,l,m,n,o,p=[],q=0,r=[];return c.children("tbody,*").children("tr").each(function(c,f){(c>0||d(b.headings))&&(n=a(f),(n.is(":visible")||!b.ignoreHiddenRows)&&(p[c]||(p[c]=[]),q=0,n.children().each(function(){if(!e(q)){if(o=a(this),o.filter("[rowspan]").length)for(k=parseInt(o.attr("rowspan"),10)-1,m=g(q,o,[]),i=1;k>=i;i++)p[c+i]||(p[c+i]=[]),p[c+i][q]=m;if(o.filter("[colspan]").length)for(k=parseInt(o.attr("colspan"),10)-1,m=g(q,o,[]),i=1;k>=i;i++)if(o.filter("[rowspan]").length)for(l=parseInt(o.attr("rowspan"),10),j=0;l>j;j++)p[c+j][q+i]=m;else p[c][q+i]=m;for(;p[c][q];)q++;e(q)||(m=p[c][q]||g(q,o,[]),d(m)&&(p[c][q]=m))}q++})))}),a.each(p,function(a,b){d(b)&&(m=f(h,b),r[r.length]=m)}),r},k=i(this);return j(this,k)}}(jQuery);