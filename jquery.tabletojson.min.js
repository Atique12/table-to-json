/** Table To JSON jQuery Plugin Version: 0.2.1 Copyright (c) 2013 Daniel White. Released under the MIT License. **/ (function( $ ) { $.fn.tableToJSON = function(opts) {  // Set options var defaults = { ignoreColNum: [], ignoreHiddenRows: true }; opts = $.extend(defaults, opts);  var headings = new Array(); this.find("thead tr th").each(function(colIndex, col) { if($.inArray(colIndex, opts.ignoreColNum) == -1) { if($(col).data("column-name") != undefined || $(col).data("column-name") != null) { headings[colIndex] = $(col).data("column-name"); } else { headings[colIndex] = $.trim($(col).text()); } } else { headings[colIndex] = null; } });  var visible = ":visible"; if(!opts.ignoreHiddenRows){ visible = ""; }  var values = new Array(); this.find("tbody tr").filter(visible).each(function(rowIndex, row) { values[rowIndex] = {}; $(row).find("td").each(function(colIndex, col) { if( headings[colIndex] != null ){ if($(col).data("cell-value") != undefined || $(col).data("cell-value") != null) { values[rowIndex][ headings[colIndex] ] = $(col).data("cell-value"); } else { values[rowIndex][ headings[colIndex] ] = $.trim($(col).text()); } } }); }); return values; }; })( jQuery );  