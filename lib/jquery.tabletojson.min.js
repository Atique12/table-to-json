!function(a){"use strict";a.fn.tableToJSON=function(b){var c={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,headings:null,allowHTML:!1};b=a.extend(c,b);var d=function(a){return void 0!==a&&null!==a?!0:!1},e=function(c){return d(b.onlyColumns)?-1===a.inArray(c,b.onlyColumns):-1!==a.inArray(c,b.ignoreColumns)},f=function(b,c){var d={};return a.each(c,function(a,c){a<b.length&&(d[b[a]]=c)}),d},g=function(c){var f,g=[];return a(c).children("td,th").each(function(c,h){if(!e(c)){var i=a(h).data("override");f=a.trim(b.allowHTML?a(h).html():a(h).text()),g[g.length]=d(i)?i:f}}),g},h=function(a){var c=a.find("tr:first").first();return d(b.headings)?b.headings:g(c)},i=function(c,e){var h=[];return c.children("tbody,*").children("tr").each(function(c,i){(0!==c||d(b.headings))&&(a(i).is(":visible")||!b.ignoreHiddenRows)&&(h[h.length]=f(e,g(i)))}),h},j=h(this);return i(this,j)}}(jQuery);